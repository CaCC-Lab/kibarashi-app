# TODO.md - 5分気晴らしアプリ開発タスクリスト

## 🎯 Phase 1 (MVP) - 超シンプル版

### 🔴 最優先タスク（プロジェクト基盤）

- [ ] **プロジェクト初期セットアップ**
  - [ ] Gitリポジトリの初期化
  - [ ] .gitignoreファイルの作成
  - [ ] プロジェクトのディレクトリ構造作成（frontend/, backend/, infrastructure/, docs/）
  - [ ] README.mdの作成（基本的なプロジェクト説明）

- [ ] **技術スタック定義ファイルの作成**
  - [ ] technologystack.mdの作成（使用技術・バージョン固定）
  - [ ] directorystructure.mdの作成（ディレクトリ構成ルール）

- [ ] **開発環境構築**
  - [ ] Docker設定ファイルの作成（docker-compose.yml）
  - [ ] 環境変数管理の設定（.env.example）
  - [ ] VSCode推奨設定（.vscode/settings.json）

### 🟡 高優先度タスク（フロントエンド基盤）

- [ ] **Reactアプリケーション初期化**
  - [ ] Create React App with TypeScript テンプレート
  - [ ] 不要なファイルの削除とクリーンアップ
  - [ ] Tailwind CSS の設定
  - [ ] ESLint/Prettier の設定

- [ ] **PWA基本設定**
  - [ ] manifest.jsonの作成
  - [ ] Service Workerの基本実装
  - [ ] アイコンセットの準備（各サイズ）
  - [ ] オフライン対応の基礎実装

- [ ] **基本UIコンポーネント作成**
  - [ ] レイアウトコンポーネント（Header, Main, Footer）
  - [ ] 状況選択コンポーネント（職場・家・外出）
  - [ ] 時間選択コンポーネント（5分・15分・30分）
  - [ ] 提案表示コンポーネント（3つの提案カード）
  - [ ] ローディング/エラー表示コンポーネント

### 🟢 中優先度タスク（バックエンド基盤）

- [ ] **Node.js/Expressサーバー初期化**
  - [ ] TypeScript設定
  - [ ] 基本的なミドルウェア設定（CORS, body-parser等）
  - [ ] エラーハンドリングミドルウェア
  - [ ] ヘルスチェックエンドポイント

- [ ] **API実装（Phase 1）**
  - [ ] GET /api/v1/suggestions エンドポイント
  - [ ] 静的な提案データの準備（Gemini API統合前）
  - [ ] レスポンス形式の実装（TypeScript型定義）

- [ ] **Google Cloud設定**
  - [ ] GCPプロジェクトの作成
  - [ ] 必要なAPIの有効化（Gemini API, Text-to-Speech API）
  - [ ] 認証情報の設定
  - [ ] 環境変数への組み込み

### 🔵 通常優先度タスク（機能実装）

- [ ] **Gemini API統合**
  - [ ] API クライアントの実装
  - [ ] プロンプトエンジニアリング（気晴らし提案生成）
  - [ ] レート制限とエラーハンドリング
  - [ ] フォールバック提案データの準備

- [ ] **Google Cloud TTS統合**
  - [ ] TTS APIクライアントの実装
  - [ ] 音声生成エンドポイント（POST /api/v1/tts）
  - [ ] 音声ファイルのキャッシュ戦略
  - [ ] フロントエンドでの音声再生実装

- [ ] **静的提案データの準備**
  - [ ] 開発仕様書の気晴らしリストをJSON化
  - [ ] カテゴリ分類（認知的/行動的）
  - [ ] 状況・時間に応じたフィルタリングロジック

### ⚪ 低優先度タスク（品質向上）

- [ ] **テスト実装**
  - [ ] フロントエンドユニットテスト設定（Jest, React Testing Library）
  - [ ] バックエンドユニットテスト設定
  - [ ] 主要コンポーネントのテスト作成
  - [ ] API エンドポイントのテスト作成

- [ ] **UI/UXブラッシュアップ**
  - [ ] アニメーション追加（控えめに）
  - [ ] レスポンシブデザインの調整
  - [ ] アクセシビリティ対応（キーボードナビゲーション）
  - [ ] ダークモード対応（オプション）

- [ ] **パフォーマンス最適化**
  - [ ] React.lazy()による動的インポート
  - [ ] 画像最適化
  - [ ] バンドルサイズの削減

### 📝 ドキュメント作成

- [ ] **技術ドキュメント**
  - [ ] API仕様書（OpenAPI/Swagger）
  - [ ] アーキテクチャ図
  - [ ] デプロイメント手順書

- [ ] **運用ドキュメント**
  - [ ] 環境構築手順
  - [ ] トラブルシューティングガイド
  - [ ] 監視・ログ設定

### 🚀 デプロイメント準備

- [ ] **CI/CD設定**
  - [ ] GitHub Actions ワークフロー作成
  - [ ] 自動テスト実行
  - [ ] ビルド・デプロイ自動化

- [ ] **本番環境準備**
  - [ ] Firebase Hosting設定
  - [ ] Cloud Functions デプロイ設定
  - [ ] ドメイン設定（必要に応じて）
  - [ ] SSL証明書設定

## 📊 Phase 1 完了基準

### 機能要件
- ✅ 状況×時間の選択で3つの提案が表示される
- ✅ 音声ガイドが再生できる（オプション）
- ✅ オフラインでも基本機能が動作する
- ✅ PWAとしてインストール可能

### 非機能要件
- ✅ 3タップ以内で提案表示
- ✅ 読み込み時間3秒以内
- ✅ モバイルファーストのレスポンシブデザイン
- ✅ エラー時のフォールバック動作

### 品質基準
- ✅ 主要機能のテストカバレッジ70%以上
- ✅ Lighthouse スコア 90以上
- ✅ アクセシビリティ基準の遵守

## 🔄 作業の進め方

1. **最優先タスク**から順に着手
2. 各タスク完了時に[x]でチェック
3. 予期しない課題が発生した場合は、このファイルに追記
4. Phase 1完了後、Phase 2のタスクリストを別セクションに追加

## ⚠️ 注意事項

- **シンプルさを最優先** - 機能追加の誘惑に負けない
- **音声はオプション** - 音声なしでも完全に使えるUI
- **リスク認識** - 開発仕様書のリスク分析を常に意識
- **段階的実装** - Phase 1の範囲を超えない

---

最終更新: 2025/01/06
次回レビュー予定: Phase 1 MVP完成時